#!/bin/bash

read -p 'Introduzca un usuario: ' User
read -p 'Introduzca un grupo: ' Group

id $User &> /dev/null
ue=$?

grep -hoE "^$Group+:" /etc/group &>/dev/null
ge=$?

if [ $ge -eq 0 ] && [ $ue -eq 0 ]
then
        grep -E "^$Group+:" /etc/group | grep $User &>/dev/null
        me=$?
        if [ $me -eq 0 ] 
        then
                echo "Membership valid!"
        else
                echo "Membership invalid but available to join."
        fi
elif [ $ge -eq 0 ] || [ $ue -eq 0 ]
then
        echo "One exists, one does not. You figure out which."

else
        echo "Both are not found - why are you even asking me this?"
fi
