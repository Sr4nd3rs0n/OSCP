#!/usr/bin/pytnon3

import subprocess
import sys

#En primer lugar, obtenemos los NS servers asociados al dominio. COn el siguiente fragmento de código obtenemos os servidores NS y almacenamos sus nombres en un fichero.

subprocess.call("host -t NS "+sys.argv[1]+" | cut -d ' ' -f4 > server.txt", shell=True)

print("[+] NS servers recopilated successfully.")
print(" ")
#Seguidamente operamos con cada una de las líneas del fichero creado anteriormente que son los nombres de los servidores NS asociados al hostname.

f = open("server.txt", "r")
for server in f:
    
    print(" ")
    print(" ")
    print("[+] Attempting ZoneFile:")
    subprocess.call("host -l "+sys.argv[1]+" "+server, shell=True)


print(" ")
print(" ")
print("[+] Cleaning...")

f.close()
subprocess.call("rm server.txt", shell=True)

print("[+] Done.")
